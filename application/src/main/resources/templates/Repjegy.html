<!DOCTYPE html>
<html lang="hu" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Repjegy vásárlás</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/navbar.css" rel="stylesheet">
    <link href="/css/footer.css" rel="stylesheet">
    <link href="/css/aside.css" rel="stylesheet">
    <link href="/css/repjegy.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
          integrity="sha512-khIpoy0tX9M61xFNtuYrOBdM0bymud0/uvjbj94Dbnw/5D/DBExhcQ8nIS5k5S5P5UXn47+JZ8xwZzD4egE4w=="
          referrerpolicy="no-referrer" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

</head>
<body>
<header>
    <div class="logo">
        <a href="/"><h1>repjegyek.store</h1></a>
    </div>
    <nav class="unique-nav-bar">
        <ul>
            <li><a href="/">Kezdőoldal</a></li>
            <li><a href="/repjegy">Repülőjegyek</a></li>
            <li><a href="/szalloda">Szállások</a></li>
            <li><a href="/biztositas">Biztosítások</a></li>
            <li><a href="/menetrend">Menetrendek</a></li>
            <li th:if="${Felhasznalo != null}">
                <a href="/logout">Kijelentkezés</a>
            </li>
            <li><a class="login-icon" href="/login">
                <i class="fa-solid fa-user"></i>
            </a>
            </li>
        </ul>
    </nav>
</header>
<main>
    <div class="container rounded shadow-sm">
        <form method="post" th:action="@{/repjegyListazFooldal}" id="show-jaratok-form">
            <div class="row">
                <div class="col-md-6 col-12 mb-4">
                    <div class="form-control d-flex flex-column">
                        <p class="h-blue">Honnan</p>
                        <input class="inputbox" name="indulasi_varos" placeholder="Város" type="text">
                    </div>
                </div>
                <div class="col-md-6 col-12 mb-4">
                    <div class="form-control d-flex flex-column">
                        <p class="h-blue">Hova</p>
                        <input class="inputbox" name="erkezesi_varos" placeholder="Város" type="text">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-12 mb-4">
                    <div class="form-control d-flex flex-column">
                        <p class="h-blue">Indulás</p>
                        <input class="inputbox textmuted" type="date" name="indulas">
                    </div>
                </div>
                <div class="col-md-6 col-12 mb-4">
                    <div class="form-control d-flex flex-column">
                        <p class="h-blue">Visszaút</p>
                        <input class="inputbox textmuted " type="date" name="visszaut">
                    </div>
                </div>
            </div>
            <button class="btn btn-primary form-control text-center" type="submit" id="show-jaratok-button">
                Mutasd a járatokat!
            </button>
        </form>
        <form class="popular-destinations" method="post" th:action="@{/legnepszerubb_repjegyek}">
            <button class="btn btn-primary form-control text-center" type="submit" id="show-jaratok-button2">
                Mutasd a legnépszerűbb járatokat!
            </button>
        </form>
    </div>

    <!-- foglaláshoz bejelentkezés szükséges -->
    <div th:if="${message}">
        <div class="alert alert-danger" role="alert">
            <span th:text="${message}"></span>
            <a href="/login"><button class="btn btn-link">Bejelentkezés</button></a>
        </div>
    </div>

    <div class="container rounded shadow-sm mt-5" id="jaratok-container" style="display: none">
        <table class="table table-hover" id="jaratok-table" style="display: none">
            <thead id="jaratok-thead" style="display: none">
                <tr>
                    <th>Járatszám</th>
                    <th>Indulási város</th>
                    <th>érkezési város</th>
                    <th>indulási időpont</th>
                    <th>érkezési időpont</th>
                    <th>Ülések száma</th>
                    <th>Utasok száma</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="jarat : ${Jaratok}">
                    <td th:text="${jarat.jaratszam}"></td>
                    <td th:text="${jarat.indulasi_varos}"></td>
                    <td th:text="${jarat.erkezesi_varos}"></td>
                    <td th:text="${jarat.indulasi_idopont}"></td>
                    <td th:text="${jarat.erkezesi_idopont}"></td>
                    <td th:text="${jarat.ulesek_szama}"></td>
                    <td th:text="${jarat.utasok_szama}"></td>
                    <td>
                        <form th:action="@{/repjegyfoglalas/{jaratszam}(jaratszam=${jarat.jaratszam})}" method="POST">
                            <button type="submit" class="reserve-button btn btn-success" >Foglalás</button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</main>
<aside>
    <div class="contact">
        <h3>Kapcsolat</h3>
        <ul>
            <li><i class="fas fa-phone"></i> +1-123-456-7890</li>
            <li><i class="fas fa-envelope"></i> info@jegyfoglalas.hu</li>
            <li><i class="fas fa-map-marker-alt"></i>1055 Szent Gellért tér 82., Budapest</li>
        </ul>
    </div>
    <div class="payment-options">
        <h3>Fizetési lehetőségek</h3>
        <img alt="Mastercard" class="mastercard" src="/pic/pay/mastercard.svg">
        <img alt="Visa" class="visa" src="/pic/pay/visa.svg">
        <img alt="PayPal" class="paypal" src="/pic/pay/paypal.svg">
    </div>
    <div class="social">
        <h3>Kövessen minket!</h3>
        <ul>
            <li>
                <a class="facebook" href="#">
                    <i class="fa-brands fa-facebook fa-2xl"></i>
                </a>
            </li>
            <li>
                <a class="twitter" href="#">
                    <i class="fa-brands fa-twitter fa-2xl"></i>
                </a>
            </li>
            <li>
                <a href="#" class="linkdIn">
                    <i class="fa-brands fa-linkedin fa-2xl"></i>
                </a>
            </li>
        </ul>
    </div>
    </div>
</aside>
<footer>
    <nav>
        <ul>
            <li><a href="#">Felhasználási feltételek</a></li>
            <li><a href="#">Adatkezelési tájékoztató</a></li>
            <li><a href="#">Rólunk</a></li>
        </ul>
    </nav>
    <p>&copy; 2023 repjegyek.store | Minden jog fenntartva.</p>
</footer>

<script crossorigin="anonymous" src="https://kit.fontawesome.com/02cb21146d.js"></script>
<script src="/javascript/jquery.js"></script>
<script src="/javascript/repjegy.js"></script>
</body>
</html>


